--- gnome-commander-1.2.8.15/configure.in.poppler	2011-12-07 04:10:27.000000000 +0900
+++ gnome-commander-1.2.8.15/configure.in	2013-08-23 18:24:54.383027945 +0900
@@ -239,6 +239,13 @@
     if pkg-config --max-version=0.11.2 poppler; then
         AC_DEFINE(POPPLER_HAS_GET_PDF_VERSION, 1, [Define to 1 if poppler has support for PDFDoc::getPDFVersion()])
     fi
+    if pkg-config --atleast-version=0.19.0 poppler; then
+        AC_DEFINE(POPPLER_HAS_SET_ERROR_CALLBACK, 1, [Define to 1 if poppler has support for setErrorCallback()])
+    fi
+    if pkg-config --atleast-version=0.24.0 poppler; then
+        AC_DEFINE(POPPLER_HAS_GOFFSET_ARGUMENT_FOR_SET_ERROR_CALLBACK, 1,
+          [Define to 1 if poppler uses Goffset for the 3rd argument of setErrorCallback])
+    fi
 fi
 if test "x$have_pdf" = "xyes"; then
    AC_DEFINE(HAVE_PDF, 1, [Define to 1 if you have PDF support])
--- gnome-commander-1.2.8.15/src/tags/gnome-cmd-tags-poppler.cc.poppler	2011-12-07 04:10:29.000000000 +0900
+++ gnome-commander-1.2.8.15/src/tags/gnome-cmd-tags-poppler.cc	2013-08-23 18:32:03.618636877 +0900
@@ -40,8 +40,13 @@
 #ifdef HAVE_PDF
 static regex_t rxDate;
 static gboolean rxDate_OK;
-
+#if defined(POPPLER_HAS_GOFFSET_ARGUMENT_FOR_SET_ERROR_CALLBACK)
+static void noErrorReporting(void *, ErrorCategory, Goffset pos, char *msg)
+#elif defined(POPPLER_HAS_SET_ERROR_CALLBACK)
+static void noErrorReporting(void *, ErrorCategory, int pos, char *msg)
+#else
 static void noErrorReporting(int pos, char *msg, va_list args)
+#endif
 {
 }
 #endif
@@ -52,8 +57,12 @@
 #ifdef HAVE_PDF
     rxDate_OK = regcomp (&rxDate, "^(D:)?([12][019][0-9][0-9]([01][0-9]([0-3][0-9]([012][0-9]([0-5][0-9]([0-5][0-9])?)?)?)?)?)", REG_EXTENDED)==0;
 
+#if defined(POPPLER_HAS_GOFFSET_ARGUMENT_FOR_SET_ERROR_CALLBACK) || defined(POPPLER_HAS_SET_ERROR_CALLBACK)
+    setErrorCallback(noErrorReporting, NULL);
+#else
     setErrorFunction(noErrorReporting);
 #endif
+#endif
 }
 
 
